<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.harmony.www_service.dao.Menu2Dao">
	<insert id="insertMenuRequest"
		parameterType="com.harmony.www_service.dto.MenuReqDto">

		INSERT INTO menu_request (mno, menuName, category, imgUrl) 
		VALUES (#{menuReq.mno}, #{menuReq.menuName}, #{menuReq.category}, #{menuReq.imgUrl})

	</insert>

	<select id="findAll" resultType="com.harmony.www_service.dto.MenuReqWithMember">
		SELECT m.username, m.nickName, mrcode, menuName, category, imgUrl FROM member m 
		JOIN menu_request mr
		ON m.mno = mr.mno
	</select>

</mapper>