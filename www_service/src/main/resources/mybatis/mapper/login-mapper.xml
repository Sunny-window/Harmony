<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.harmony.www_service.dao.LoginDao">
  
  	<!-- username으로 user정보 가져오기 -->
  	<select id="findByUsername" resultType="com.harmony.www_service.dto.UserDto">
  		select * from user where username = #{username}
  	</select>
  
  	<!-- username이랑 password로 user데이터 확인 -->
  	<select id="loginCheck" resultType="com.harmony.www_service.dto.UserDto">
  		select * from user where username = #{username} and password = #{password}
  	</select>
  	
  	<!-- username으로 member테이블에서 nickname가져오 -->
  	<select id="getNickname">
  		select nickName from member where username = #{username}
  	</select>
  	
  	<!-- 회원가입 user -->
  	<insert id="registUser">
  		insert into user (username, password, role)
  		values(#{username}, #{password}, #{role})
  	</insert>
  	
  	<!-- 회원가입 member -->
  	<insert id="registMember">
  		insert into member (username, nickName, addr, birth, phone)
  		values (#{username}, #{nickName}, #{addr}, #{birth}, #{phone})
  	</insert>
  
  </mapper>